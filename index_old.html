<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PeerFinder | Pathway English Immersion</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet" />
  <style>
    body {
      font-family: 'Poppins', Arial, sans-serif;
      background: #f4f8fb;
      color: #2a2f36;
      margin: 0;
    }
    .navbar {
      background: #fff;
      border-bottom: 1px solid #ebebeb;
      padding: 1rem 2.5rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    .navbar .brand {
      display: flex;
      align-items: center;
      font-weight: 700;
      font-size: 1.5rem;
      color: #1976d2;
    }
    .navbar .brand img {
      height: 36px;
      margin-right: 10px;
    }
    .navbar .status-btn {
      background: #1976d2;
      color: #fff;
      border: none;
      border-radius: 24px;
      padding: 0.8rem 2rem;
      font-weight: 600;
      cursor: pointer;
      font-size: 1rem;
      text-decoration: none;
      transition: background-color 0.2s;
    }
    .navbar .status-btn:hover {
      background: #125ca1;
    }
    .hero {
      background: #e4f0fb;
      padding: 3rem 0 2rem 0;
      text-align: center;
    }
    .hero h1 {
      font-size: 2.7rem;
      margin-bottom: 1rem;
      font-weight: 800;
      color: #1976d2;
    }
    .hero p {
      font-size: 1.2rem;
      max-width: 700px;
      margin: 1rem auto;
      color: #123139;
    }
    .main-activities {
      display: flex;
      justify-content: center;
      gap: 2rem;
      margin: 3rem 0 2rem 0;
      flex-wrap: wrap;
    }
    .activity-card {
      background: #fff;
      border-radius: 18px;
      box-shadow: 0 3px 14px rgba(0,0,0,0.09);
      flex: 1 1 260px;
      max-width: 340px;
      padding: 2rem 1.5rem 1.4rem 1.5rem;
      min-width: 230px;
      text-align: center;
      transition: box-shadow 0.2s;
      cursor: pointer;
      border: 2px solid transparent;
    }
    .activity-card:hover {
      border: 2px solid #1976d2;
      box-shadow: 0 8px 18px rgba(35,74,212,0.12);
    }
    .activity-icon {
      font-size: 2.8rem;
      margin-bottom: 0.7rem;
      color: #1976d2;
    }
    .activity-title {
      font-weight: 700;
      font-size: 1.25rem;
      margin-bottom: 0.4rem;
      color: #003366;
    }
    .activity-module {
      font-size: 1rem;
      color: #888da1;
      margin-bottom: 1rem;
    }
    .check-status-desc {
      color: #555;
      text-align: center;
      margin-top: 0.75rem;
      font-size: 1rem;
    }
    /* Modal Styles */
    .modal-bg {
      position: fixed;
      left: 0; top: 0;
      width: 100vw; height: 100vh;
      background: rgba(0,16,46,0.18);
      z-index: 10;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.35s;
    }
    .modal-bg.active {
      opacity: 1;
      pointer-events: all;
    }
    .modal-card {
      background: #fff;
      border-radius: 16px;
      max-width: 520px;
      width: 97vw;
      padding: 2.5rem 2rem;
      box-shadow: 0 4px 32px rgba(30,74,175,0.10);
      transform: translateY(-40px);
      opacity: 0;
      transition: opacity 0.35s, transform 0.35s;
      font-family: 'Poppins', Arial, sans-serif!important;
    }
    .modal-bg.active .modal-card {
      opacity: 1;
      transform: translateY(0);
    }
    .close-btn {
      background: none;
      border: none;
      font-size: 1.7rem;
      color: #333;
      position: absolute;
      right: 1.4rem;
      top: 1.0rem;
      cursor: pointer;
      font-weight: 600;
    }
    @media (max-width: 900px) {
      .main-activities { flex-direction: column; align-items: center;}
    }
    @media (max-width: 600px) {
      .hero h1 { font-size: 1.7rem; }
      .modal-card { padding: 1.2rem 0.4rem; }
    }
  </style>
</head>
<body>
  <div class="navbar">
    <div class="brand">
      <img src="static/alx_icon-300x169.png" alt="ALX Logo"/>
      PeerFinder
    </div>
    <a href="{{ url_for('check_match') }}" class="status-btn">Check Match Status</a>
  </div>

  <div class="hero">
    <h1>Find Your Perfect Learning Partner, Group, or Peer Mentor</h1>
    <p>
      Connect with fellow learners in your cohort to collaborate on projects and milestones ‚Äî at your pace, one-on-one or in groups.<br>
      <b>Collaborate, Grow, and Achieve Together.</b><br>
      Learning is more rewarding when shared. PeerFinder helps you discover learners who match your rhythm and goals, so you can support each other, exchange ideas, and stay motivated throughout your journey.<br>
      <b>Tailored Connections for Meaningful Collaboration.</b><br>
      Whether you prefer focused one-on-one partnerships or dynamic groups of three or five, PeerFinder matches you with peers with similar progress and commitment levels ‚Äî making teamwork seamless and effective. And if you're behind or facing challenges, you can pair with a supportive peer to help you catch up and finish strong before the course ends.
    </p>
    <div class="main-activities">
      <div class="activity-card" data-activity="debate">
        <div class="activity-icon">üó£Ô∏è</div>
        <div class="activity-title">Debate</div>
        <div class="activity-module">Module 6</div>
        <div>Engage in dynamic, structured English debates with peers.</div>
      </div>
      <div class="activity-card" data-activity="interview">
        <div class="activity-icon">üé§</div>
        <div class="activity-title">Interview</div>
        <div class="activity-module">Module 10</div>
        <div>Practice English interview skills with real partners.</div>
      </div>
      <div class="activity-card" data-activity="study_buddy">
        <div class="activity-icon">ü§ù</div>
        <div class="activity-title">Study Buddy</div>
        <div class="activity-module">Accountability Partner</div>
        <div>Get general support and accountability match-ups.</div>
      </div>
    </div>
    <div>
      <div class="check-status-desc">
        You can check your matching status at any time.<br>Keep your ID handy after submitting a request.
      </div>
    </div>
  </div>

  <!-- Modal Form - hidden by default -->
  <div class="modal-bg" id="matchModal">
    <div class="modal-card">
      <button class="close-btn" onclick="closeModal()">√ó</button>
      <!-- Embed the form here. Render using Flask or fetch via AJAX for modularity. For now, just a placeholder: -->
      <div id="modal-form-container"></div>
    </div>
  </div>

  <script>
    // JavaScript to handle modal open/close & transition
    function openModal(activityType) {
      document.getElementById('matchModal').classList.add('active');
      // You can render or fetch the relevant form.html with Flask here
      // Or use AJAX (fetch) to load the correct activity-specific form into #modal-form-container
      fetch(`/form_fragment/${activityType}`)
        .then(res => res.text())
        .then(html => document.getElementById('modal-form-container').innerHTML = html);
    }
    function closeModal() {
      document.getElementById('matchModal').classList.remove('active');
      document.getElementById('modal-form-container').innerHTML = '';
    }
    // Attach event listeners to activity cards
    document.querySelectorAll('.activity-card').forEach(card => {
      card.addEventListener('click', () => openModal(card.getAttribute('data-activity')));
    });
    // Optional: ESC to close modal
    window.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') closeModal();
    });
  </script>
</body>
</html>
